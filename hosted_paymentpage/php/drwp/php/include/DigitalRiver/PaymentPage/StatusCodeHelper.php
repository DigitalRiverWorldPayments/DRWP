<?php

class DigitalRiver_Payment_StatusCodeHelper
{

	private $STATUS_MAP = array(
		 '0' => 'Transaction successfully processed', 
		 '11001' => 'Duplicate transaction found', 
		 '11002' => 'No charge model found', 
		 '11011' => 'Invalid currency', 
		 '11013' => 'Invalid Transaction Channel', 
		 '11023' => 'Invalid input data (details provided in description)', 
		 '22002' => 'Server configuration error', 
		 '22014' => 'Server error, no transaction sent to acquirer', 
		 '22017' => 'Server error, no transaction sent to acquirer', 
		 '22020' => 'Bank system error', 
		 '22021' => 'Bank system temporary unreachable', 
		 '22022' => 'Operation not supported by bank', 
		 '22023' => 'Invalid expiry date', 
		 '22024' => 'Invalid card type', 
		 '22026' => 'Invalid order ID', 
		 '22027' => 'Transaction refused', 
		 '22028' => 'Transaction refused', 
		 '22029' => 'Transaction refused', 
		 '22031' => 'Transaction refused', 
		 '22032' => 'Transaction refused', 
		 '22033' => 'Invalid reference transaction ID', 
		 '22034' => 'Transaction refused: Card Number can only contain numbers', 
		 '22035' => 'Communication problems', 
		 '22036' => 'Communication problems', 
		 '22037' => 'No response from bank before client timeout', 
		 '22038' => 'Communication problems', 
		 '22039' => 'Transaction refused', 
		 '22040' => 'Transaction refused', 
		 '22041' => 'Transaction refused: The sum of this and previously credited amounts (if any) exceeds debited amount', 
		 '22042' => 'Server error, no transaction sent to acquirer', 
		 '22043' => 'Transaction type not supported by server', 
		 '22044' => 'Transaction refused: The status of the reference transaction does not allow this transaction', 
		 '22045' => 'Transaction refused: The type of the reference transaction is not valid for this transaction', 
		 '22047' => 'Transaction refused: The currency code does not match the reference transaction', 
		 '22048' => 'Transaction refused: Server temporarily unavailable', 
		 '22049' => 'Transaction refused: Active configuration differs', 
		 '22050' => 'Transaction refused: Merchant ID not active. Please contact Digital River World Payments', 
		 '22051' => 'Server error, no transaction sent to acquirer', 
		 '22052' => 'Transaction refused', 
		 '22053' => 'Transaction refused. Card Expired', 
		 '22054' => 'System error', 
		 '22055' => 'Server error', 
		 '22056' => 'System error', 
		 '22060' => 'Invalid track 2 data', 
		 '22061' => 'Invalid track 2 expiry date', 
		 '22062' => 'Server error, no transaction sent to acquirer', 
		 '22063' => 'Transaction refused: Card is blacklisted', 
		 '22064' => 'Transaction refused: Card is blacklisted', 
		 '22065' => 'Transaction refused: Reference transaction cancelled', 
		 '22066' => 'Transaction refused: Reference transaction already captured', 
		 '22068' => 'Required data was too long', 
		 '22069' => 'Transaction refused: Merchant ID inactive', 
		 '22070' => 'Transaction refused: The currency code does not match with the reference transaction', 
		 '22071' => 'Transaction refused: Capture amount exceeds authorized amount', 
		 '22072' => 'This capture requires a telephone auth code', 
		 '22073' => 'Telephone auth code not requested', 
		 '22074' => 'Server error, no transaction sent to acquirer', 
		 '22075' => 'The Originating Account Type parameter is invalid', 
		 '22080' => 'Transaction refused: Velocity check rule violation (details provided in description)', 
		 '23001' => 'Digital River World Payments server error', 
		 '23002' => 'Digital River World Payments server error', 
		 '23003' => 'Digital River World Payments server received corrupt input data format', 
		 '23005' => 'Invalid transaction type', 
		 '23006' => 'Communication problems', 
		 '23007' => 'Server unavailable', 
		 '23008' => 'Invalid input data', 
		 '24001' => 'Invalid merchant id', 
		 '24002' => 'Invalid transaction channel', 
		 '24004' => 'Invalid account holder number', 
		 '24008' => 'Invalid amount', 
		 '24009' => 'Invalid currency', 
		 '24010' => 'Invalid order id', 
		 '24011' => 'Invalid party name', 
		 '24012' => 'Invalid city name', 
		 '24013' => 'No charge model is found', 
		 '24021' => 'Duplicate transaction found', 
		 '24023' => 'System error', 
		 '24025' => 'Invalid institution branch number', 
		 '24026' => 'Invalid account holder name', 
		 '24027' => 'Declined. Invalid account', 
		 '24028' => 'Declined. Suspected fraud', 
		 '24029' => 'Invalid Mandate ID', 
		 '24030' => 'Invalid Mandate date', 
		 '24031' => 'Invalid recurring indicator', 
		 '24032' => 'Invalid account holder country', 
		 '24033' => 'Invalid IBAN', 
		 '24034' => 'Invalid BIC', 
		 '24035' => 'Multiple charge models found', 
		 '36001' => 'Duplicate order id', 
		 '36002' => 'Invalid execution date', 
		 '36003' => 'Invalid merchant id', 
		 '36004' => 'No account configured', 
		 '36005' => 'No charge model is found', 
		 '36006' => 'Several charge models found', 
		 '36007' => 'Amount exceeds charge model range', 
		 '36008' => 'Order id already used in timeframe', 
		 '36009' => 'Invalid IBAN', 
		 '36010' => 'Bank name missing', 
		 '36011' => 'Bank city missing', 
		 '36012' => 'Bank sort code missing', 
		 '36013' => 'Bank branch code missing', 
		 '36014' => 'Beneficiary name missing', 
		 '36015' => 'Beneficiary address missing', 
		 '36016' => 'Beneficiary zip code missing', 
		 '36017' => 'Beneficiary city missing', 
		 '36018' => 'Insufficient account info', 
		 '36019' => 'Referenced transaction has other currency', 
		 '36020' => 'Payout amount exceeds scope amount', 
		 '36021' => 'No reference transaction found', 
		 '36022' => 'Important data too long and can’t be truncated', 
		 '36023' => 'Invalid format of input data', 
		 '36024' => 'No account found in configuration', 
		 '36025' => 'Several accounts fond for this configuration', 
		 '36026' => 'Invalid beneficiary information', 
		 '36027' => 'Reference transaction is temporarily locked', 
		 '36028' => 'Invalid amount', 
		 '36029' => 'Beneficiary swift missing', 
		 '36030' => 'System Error', 
		 '36031' => 'Invalid Billing Country Code', 
		 '26001' => 'System error', 
		 '26002' => 'System error', 
		 '26003' => 'Required argument missing or empty', 
		 '26004' => 'Invalid argument', 
		 '26005' => 'Corrupted PARes msg, please retry.', 
		 '26006' => 'Signature on PARes bad', 
		 '26007' => 'Attempt recorded', 
		 '26008' => 'Authentication not available', 
		 '26009' => 'Not authenticated', 
		 '26010' => 'Invalid certificate', 
		 '26011' => 'Configuration error', 
		 '26012' => 'Corrupted PARes msg, please retry.', 
		 '26013' => 'Corrupted issuer certificate, please retry', 
		 '26014' => 'Authentication not possible', 
		 '26015' => 'Authentication not required', 
		 '26016' => 'Authentication Required', 
		 '26017' => 'Authentication Required, mobile device', 
		 '26023' => 'Authentication request failed, please retry', 
		 '26024' => 'Authentication verification failed, please retry', 
		 '26026' => '3D Secure not available for this bank connection', 
		 '26027' => 'Number of digits truncated from purchase amount mismatch', 
		 '26028' => 'Card type not 3D secure enabled', 
		 '27001' => 'Transaction refused', 
		 '27002' => 'Server error', 
		 '27004' => 'Card type is not allowed', 
		 '27005' => 'No transaction matching the referenced transaction', 
		 '27006' => 'Invalid Merchant ID', 
		 '27007' => 'Invalid Transaction Channel', 
		 '27013' => 'Server error', 
		 '27014' => 'Invalid Order ID', 
		 '27015' => 'Invalid Order description', 
		 '27016' => 'Invalid Order info', 
		 '27017' => 'Invalid Card Number', 
		 '27018' => 'Invalid Expire Date', 
		 '27019' => 'Invalid Card Type', 
		 '27020' => 'Invalid Currency Code', 
		 '27021' => 'Invalid Currency Subunit', 
		 '27022' => 'Invalid Amount', 
		 '27023' => 'Invalid VAT Numerator', 
		 '27024' => 'Invalid Reference Transaction ID', 
		 '27025' => 'Transaction type not supported by legacy system', 
		 '27026' => 'Corrupt input data to Server', 
		 '27027' => 'Invalid LARID', 
		 '27028' => 'Invalid Sub Merchant ID', 
		 '27029' => 'Invalid Start Date', 
		 '27030' => 'Invalid Issue', 
		 '27031' => 'Invalid CVCodeState', 
		 '27032' => 'Invalid CVCode', 
		 '27033' => 'Acquirer error. Transaction not processed', 
		 '27034' => 'System error', 
		 '27039' => 'Invalid track 2 data', 
		 '27040' => 'Requires telephone authorization', 
		 '27041' => 'The bank reported time out. Please retry', 
		 '27042' => 'Server configuration error', 
		 '27043' => 'Pick up card', 
		 '27044' => 'Originating account type value not supported', 
		 '11001' => 'Duplicate transaction found', 
		 '32001' => 'Invalid merchant id', 
		 '32002' => 'Invalid transaction channel', 
		 '32003' => 'Invalid country', 
		 '32004' => 'Invalid currency', 
		 '32005' => 'Invalid order id', 
		 '32006' => 'Exceeded execution date period', 
		 '32007' => 'Execution date less than allowed', 
		 '32008' => 'No EFT configuration found', 
		 '32009' => 'No account configuration found for merchant', 
		 '32010' => 'Incomplete account set-up. No translation found', 
		 '32011' => 'System error', 
		 '32013' => 'Declined by bank', 
		 '32014' => 'Bank communication problem', 
		 '33001' => 'Server error, no transaction sent to acquirer', 
		 '33002' => 'Bank system error, no transaction sent to acquirer', 
		 '33003' => 'Bank system temporary unreachable', 
		 '33004' => 'Server error, transaction status unknown', 
		 '33005' => 'Server configuration error', 
		 '33006' => 'Transaction refused: Reference transaction owned by other merchant', 
		 '33010' => 'Server error, no transaction sent to acquirer', 
		 '33011' => 'Transaction type not supported by server', 
		 '33012' => 'Transaction refused: The status of the reference transaction does not allow this transaction', 
		 '33013' => 'Transaction refused: The reference transaction\'s type is not valid for this transaction', 
		 '33015' => 'Transaction refused: Server temporary unavailable. Please try again', 
		 '33017' => 'Transaction refused: Merchant ID not active. Please contact Digital River World Payments', 
		 '33018' => 'Transaction refused: Reference transaction already completed successfully', 
		 '33019' => 'Transaction refused: Sum of debited amount and previous credited amounts (if any) exceeded', 
		 '33020' => 'Transaction refused: Transaction already in progress', 
		 '33021' => 'Currency differs from the currency of the reference transaction', 
		 '33023' => 'Invalid Order ID', 
		 '33024' => 'Duplicate transaction found', 
		 '33025' => 'No Charge model found', 
		 '33026' => 'Reference transaction not found', 
		 '33027' => 'Order ID doesn\'t match the referenced transaction', 
		 '33030' => 'Invalid Transaction Channel', 
		 '33031' => 'Invalid Transaction Type', 
		 '33032' => 'Invalid amount', 
		 '33033' => 'Invalid reference transaction id', 
		 '33034' => 'Invalid merchant id', 
		 '33035' => 'Invalid bank id / No service app type found', 
		 '33037' => 'A parameter contains an invalid/illegal value', 
		 '33038' => 'Server error, please try again', 
		 '33039' => 'Invalid currency', 
		 '33041' => 'Order description too long', 
		 '33042' => 'Order detail description too long', 
		 '33043' => 'Sub merchantID too long', 
		 '33044' => 'POS ID too long', 
		 '33045' => 'POS description too long', 
		 '33046' => 'Invalid Order ID', 
		 '33047' => 'Auth amount exceeded', 
		 '33048' => 'Reference Tx has been captured', 
		 '33049' => 'Reference Tx has been cancelled', 
		 '33050' => 'Operation not supported by bank', 
		 '34001' => 'Transaction refused', 
		 '34002' => 'Server error', 
		 '34003' => 'Server error, please contact Digital River World Payments', 
		 '34004' => 'Transaction type not supported by legacy system', 
		 '34005' => 'Invalid input data to Server', 
		 '34006' => 'Acquirer error. Transaction not processed', 
		 '34007' => 'The bank reported time out. Please retry', 
		 '34008' => 'Server configuration error', 
		 '34010' => 'Transaction not yet completed', 
		 '34011' => 'Operation not supported by bank', 
		 '38001' => 'System error', 
		 '38002' => 'Illegal argument: [Description]', 
		 '38003' => 'Business rule violation: [Description]', 
		 '38004' => 'Operation cannot be performed at this time: [Description]', 
		 '39001' => 'System error', 
		 '39002' => 'Authentication Problem', 
		 '39003' => 'Blocked in fraud screening', 
		 '39004' => 'Transaction refused', 
		 '40001' => 'Token not found', 
		 '40002' => 'Token not supported for the payment method in the request', 
	);
	
	public function getMessage($code)
    {
		if(array_key_exists($code, $this->STATUS_MAP))
		{
			return $this->STATUS_MAP[$code];
		} else {
			return "Status code ".$code." not found" ;
		}
	}
}
?>